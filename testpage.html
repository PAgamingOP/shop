<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PA Network | Shop</title>
<style>
body {
  margin: 0;
  overflow-x: hidden;
  font-family: 'Poppins', sans-serif;
  color: #fff;
  background: #000;
  scroll-behavior: smooth; /* ‚úÖ native smooth scrolling */
}
canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 0;
}
.header {
  position: fixed;
  top: 10px;
  right: 20px;
  background: rgba(255,255,255,0.08);
  border-radius: 20px;
  padding: 10px 20px;
  backdrop-filter: blur(6px);
  font-size: 18px;
  color: gold;
  z-index: 2;
  box-shadow: 0 0 10px rgba(255,255,100,0.4);
}
.container {
  position: relative;
  z-index: 2;
  text-align: center;
  padding-top: 100px;
}
h1 {
  font-size: 40px;
  color: gold;
  text-shadow: 0 0 15px yellow;
  margin-bottom: 10px;
}
h2 {
  font-size: 24px;
  color: #00ffaa;
  margin-bottom: 20px;
}
button {
  background: linear-gradient(90deg,#ffb347,#ffcc33);
  border: none;
  padding: 12px 25px;
  border-radius: 12px;
  font-weight: bold;
  color: black;
  cursor: pointer;
  box-shadow: 0 0 10px gold;
  transition: 0.3s;
}
button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 25px yellow;
}
.shop-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 25px;
  margin-top: 40px;
}
.shop-item {
  background: rgba(255,255,255,0.1);
  border-radius: 15px;
  width: 280px;
  padding: 20px;
  box-shadow: 0 0 20px rgba(255,255,255,0.1);
  transition: transform 0.3s, box-shadow 0.3s;
}
.shop-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 25px gold;
}
.shop-item h3 {
  color: gold;
  font-size: 22px;
}
.price {
  margin: 10px 0;
  color: #00ff99;
  font-size: 18px;
}
.popup {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  z-index: 10;
  justify-content: center;
  align-items: center;
}
.popup-content {
  background: #111;
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 0 20px gold;
}
.popup-content button {
  margin-top: 10px;
}
.earn-section {
  margin-top: 20px;
}

/* === Back Button Styling === */
#backButton {
  position: fixed;
  top: 15px;
  left: 15px;
  padding: 10px 18px;
  background: rgba(0, 0, 0, 0.6);
  color: #fff;
  font-weight: bold;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  z-index: 999;
  transition: all 0.3s ease;
  backdrop-filter: blur(4px);
}
#backButton:hover {
  background: rgba(0, 255, 150, 0.8);
  transform: scale(1.05);
  box-shadow: 0 0 12px rgba(0, 255, 150, 0.5);
}
</style>
</head>
<body>
<canvas id="bg"></canvas>

<button id="backButton">‚Üê Back</button>

<div class="header">üí∞ Coins: <span id="coins">0</span></div>

<div class="container">
  <h1>üéØ PA Network Shop</h1>

  <div class="earn-section">
    <h2>üíé Earn Coins</h2>
    <p>Click the button below to earn coins by completing tasks!</p>
    <button onclick="earnCoin()">Earn Coins</button>
  </div>

  <div class="shop-grid">
    <div class="shop-item" data-price="3">
      <h3>Custom Plugin</h3>
      <div class="price">Price: ü™ô 3 Coins</div>
      <button onclick="purchase(this)">Download</button>
    </div>
    <div class="shop-item" data-price="5">
      <h3>Exclusive Map</h3>
      <div class="price">Price: ü™ô 5 Coins</div>
      <button onclick="purchase(this)">Download</button>
    </div>
    <div class="shop-item" data-price="8">
      <h3>Advanced Plugin Pack</h3>
      <div class="price">Price: ü™ô 8 Coins</div>
      <button onclick="purchase(this)">Download</button>
    </div>
  </div>
</div>

<div id="popup" class="popup">
  <div class="popup-content">
    <h3>‚ùå Not enough coins!</h3>
    <p>You need more coins to buy this item.</p>
    <button onclick="goEarn()">Earn Coins</button>
  </div>
</div>

<script>
// === Back Button Script ===
document.getElementById("backButton").addEventListener("click", () => {
  window.location.href = "index.html";
});
const clickSound = new Audio("https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3");
document.getElementById("backButton").addEventListener("mousedown", () => {
  clickSound.currentTime = 0;
  clickSound.play();
});

// === Mouse Spark Effect ===
document.addEventListener("mousemove", e => {
  const spark = document.createElement("div");
  spark.style.position = "fixed";
  spark.style.width = "6px";
  spark.style.height = "6px";
  spark.style.background = "gold";
  spark.style.borderRadius = "50%";
  spark.style.left = e.pageX + "px";
  spark.style.top = e.pageY + "px";
  spark.style.opacity = "1";
  spark.style.pointerEvents = "none";
  spark.style.transition = "all 0.6s ease-out";
  document.body.appendChild(spark);
  setTimeout(() => {
    spark.style.opacity = "0";
    spark.style.transform = "scale(2)";
  }, 50);
  setTimeout(() => spark.remove(), 600);
});

// === Improved Smooth Scroll ===
let scrollTarget = window.scrollY;
let scrolling = false;

function smoothScroll() {
  if (!scrolling) return;
  const current = window.scrollY;
  const diff = (scrollTarget - current) * 0.1;
  window.scrollTo(0, current + diff);
  if (Math.abs(diff) > 0.5) requestAnimationFrame(smoothScroll);
  else scrolling = false;
}

window.addEventListener("wheel", e => {
  e.preventDefault();
  scrollTarget += e.deltaY;
  scrollTarget = Math.max(0, scrollTarget);
  if (!scrolling) {
    scrolling = true;
    requestAnimationFrame(smoothScroll);
  }
}, { passive: false });

// === Touch Scroll for Mobile ===
let startY = 0;
document.addEventListener("touchstart", e => startY = e.touches[0].clientY);
document.addEventListener("touchmove", e => {
  const delta = startY - e.touches[0].clientY;
  scrollTarget += delta * 1.5;
  scrollTarget = Math.max(0, scrollTarget);
  if (!scrolling) {
    scrolling = true;
    requestAnimationFrame(smoothScroll);
  }
});

// === Firefly Background ===
const canvas = document.getElementById("bg"), ctx = canvas.getContext("2d");
canvas.width = innerWidth; canvas.height = innerHeight;
const particles = [];
for (let i = 0; i < 80; i++) {
  particles.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 2,
    dx: (Math.random() - 0.5) * 0.5,
    dy: (Math.random() - 0.5) * 0.5
  });
}
function animate() {
  ctx.fillStyle = "rgba(0,0,0,0.25)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = "rgba(255,230,100,0.8)";
    ctx.shadowColor = "#ffff66";
    ctx.shadowBlur = 10;
    ctx.fill();
    p.x += p.dx; p.y += p.dy;
    if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
    if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
  });
  requestAnimationFrame(animate);
}
animate();
window.addEventListener('resize', () => { canvas.width = innerWidth; canvas.height = innerHeight; });

// === Coin System ===
function loadCoins() {
  let coins = parseInt(localStorage.getItem("coins") || "0");
  document.getElementById("coins").textContent = coins;
}
loadCoins();

function earnCoin() {
  const links = [
    "https://linkpays.in/9a1vguy",
    "https://linkpays.in/jwnkC",
    "https://linkpays.in/e6wVnd",
    "https://linkpays.in/KUgV",
    "https://linkpays.in/9a1vguy"
  ];
  sessionStorage.setItem("earningInProgress", "true");
  const randomLink = links[Math.floor(Math.random() * links.length)];
  window.location.href = randomLink;
}

function purchase(btn) {
  const price = parseInt(btn.parentElement.getAttribute("data-price"));
  let coins = parseInt(localStorage.getItem("coins") || "0");
  if (coins >= price) {
    coins -= price;
    localStorage.setItem("coins", coins);
    loadCoins();
    alert("‚úÖ Purchase successful! Download starting...");
    window.open("https://example.com/download.zip", "_blank");
  } else {
    document.getElementById("popup").style.display = "flex";
  }
}

function goEarn() {
  document.getElementById("popup").style.display = "none";
  earnCoin();
}
</script>
</body>
</html>
